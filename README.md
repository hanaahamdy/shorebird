في العادة لما بنكون شغالين على تطبيق موبايل ونعوز نعمل تعديل  حتى لو التعديل بسيط  بنضطر نعيد **بناء التطبيق (Build)** بالكامل وبعد كده نرفعه تاني على المتجر (Google Play أو App Store)، ونستنى مراجعة المتجر عشان المستخدم يظهرله التحديث.

العملية دي ممكن تاخد وقت وتسبب تأخير في إصدار التعديلات المهمة أو العاجلة.

وهنا بييجي دور أداة **Shorebird** اللي بتسهل عملية التحديث عن طريق إرسال التعديلات مباشرة للمستخدمين بدون الحاجة لإعادة رفع التطبيق على المتجر بمجرد اعاده تشغيل التطبيق.

# 🐦 Shorebird 
يعتبر Shorebird بمثابة (Server)، يتم  الربط بينه وبين المشروع ورفع التحديثات إليه مباشرة بعد بنائها. بعد ذلك، يقوم التطبيق المثبّت على أجهزة المستخدمين بالتحقق من وجود تحديثات جديدة عند التشغيل عن طريق ارسال Http Request يحتوي علي (build number- patch number- platform)، وفي حال توافر إصدار أحدث، يتم تحميله وتطبيقه تلقائيًا في الخلفيه بدون الحاجة لإعادة رفع التطبيق على المتجر.

## 🔧 خطوات التثبيت

### 1. تثبيت Shorebird CLI:
من خلال التيرمينال نقوم بتنفيذ هذا الامر

(هذا الأمر يقوم بتحميل وتشغيل سكربت التثبيت الخاص ب Shorebird CLIحتي نتمكن من استخدام اوامر ال Shorebird.

<pre>curl --proto '=https' --tlsv1.2 https://raw.githubusercontent.com/shorebirdtech/install/main/install.sh -sSf | bash)</pre>

بعد تثبيت Shorebird ClI نقوم بإضافة مسار ملف ال bin إلى متغيرال PATH حتى تتمكن من استخدام أوامر shorebird من أي مكان في الجهاز.

-Mac=======>(export PATH="$HOME/.shorebird/bin:$PATH")  في ملف ~/.zshrc


-Windows====>(Environment Variables نختار المتغير Path====>New====>C:\Users\<اسم_المستخدم>\.shorebird\bin)




## 2. 🩺 - التحقق من جاهزية Shorebird: 
يمكننا استخدام هذا الامر للتحقق من تثبيت ال shorebird cli بشكل صحيح.  <pre> ``` shorebird doctor ``` </pre>





## 3. 🔑 تسجيل الدخول إلى Shorebird

لنتتمكن من استخدام  Shorebird Server و رفع التحديثات اليه يجب تسجيل الدخول إلى الحساب الخاص بنا  في Shorebird باستخدام  هذا الأمر) سيتم عرض رابط يمكنك فتحه في المتصفح لإتمام عملية تسجيل الدخول بنجاح إلى حسابك في Shorebird.
<pre>  shorebird login </pre>




## 4. 🛠️ تهيئة المشروع لاستقبال التحديثات

من خلال هذا الامر 
-يتم تسجيل المشروع في حسابك علي Shorebird Server، عند تنفيذه من خلال التيرمينال، يتم ادخال الاسم المراد تسجيل المشروع به علي السيرفر او ادخال Enter لتسجيله بنفس اسم المشروع.
-يتم الربط بين المشروع وال shorebird Server من خلال ملف (shorebird.yaml)ويتم انشاؤه عند تنفيذ الامر السابق و يحتوي علي application-id معرف للتطبيق, يُستخدم ملف shorebird.yaml من قبل Shorebird Server لتحديد التطبيق الذي سيتم إرسال التحديثات إليه ، يحتوي هذا الملف ايضا علي  auto_update key  يحدد ما إذا كان التطبيق سيقوم بتثبيت التحديثات في حاله توفر اصدار أحدث و يأخذ قيمة افتراضية true مما يعني أنه سيتم تثبيت التحديثات تلقائيًا عند توفرها .
<pre> shorebird init </pre>




## 5. 🚀 إنشاء نسخة

يمكننا  استخدام هذا الامر ( shorebird release + platform)لرفع إصدار جديد من التطبيق إلىShorebird server .
بعد تنفيذ هذا الأمر، سيتم انشاء نسخه app bundle في build folder وارسال هذه النسخه الي Shorebird server يتم استخدمها لارسال التحديثات للمستخدمين والتحديثات تظهر لهم عند إعادة تشغيل التطبيق.
<pre> shorebird release android </pre>


## 6. 👀 تجربة النسخة قبل النشر(الخطوه دي اختياريه لو عايزين نشوف النسخه قبل ما نرفعها علي store)

 من خلال هذا الامر بيعمل fetch لكل النسخ المرتبطه بالمشروع الحالي علي Shorebird server ونختار النسخه الي محتاجين نعملها تثبيت  علي المحاكي المتصل باللاب. 
 <pre> shorebird preview </pre>



## 7. 🚀 إنشاء Patch (إرسال تحديث)

نقدر نعدل في الكود ((Only Dart Code))ونقوم بارسال التحديث ل shorebird server من خلال هذا الامر ( shorebird patch + platform)
-ارسال التحديثات لاجهزه الاندرويد فقط هنا يتم بناء تحديث صغير يحتوي على التغييرات الأخيره فقط.
المستخدمون الذين لديهم التطبيق المثبت سيستلمون هذا التحديث عند إعادة تشغيل التطبيق الجزء اللي اتغير أو اتحدث في كود dart هو اللي بيتم تثبيته بس، مش التطبيق كامل).
<pre> shorebird patch android </pre>
بعد رفع التحديث الي shorebird serverعند فتح التطبيق سيقوم بارسال http request الي shorebird server للتحقق من وجود تحديثات في حاله توافر تحديث سيتم تثبيته في خلفيه التطبيق وعند اعاده تشغيل التطبيق يظهر التحديث للمستخدم. 





✅ ما يمكن تحديثه من خلال Shorebird:

✅ تعديلات في الواجهات المبنية بلغة Dart.

✅ أي تغييرات في منطق التطبيق (Business Logic)



❌ ما لا يمكن تحديثه من خلال Shorebird:

❌ إضافة أو إزالة أذونات (Permissions) في info.split/AndroidManifest.xml

❌ تعديل أو إضافة Native Plugins

❌ تغيير الـ Launch Icon

❌ تغيير اسم التطبيق أو الـ Package Name
















